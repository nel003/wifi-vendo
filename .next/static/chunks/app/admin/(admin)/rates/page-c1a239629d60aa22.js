(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{8424:(e,t,r)=>{Promise.resolve().then(r.bind(r,8797))},8797:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(5155),i=r(4085),l=r(2079),n=r(241),a=r(2651),c=r(4683),d=r(2115),o=r(7837),h=r(5785),u=r(2336),x=r(5858);function j(){let[e,t]=(0,d.useState)([]),{toast:r}=(0,n.dj)(),[j,p]=(0,d.useState)(""),[m,f]=(0,d.useState)(""),[g,v]=(0,d.useState)(""),w=(0,d.useCallback)(async()=>{try{let e=await a.A.get("/api/admin/rates");t(e.data.sort((e,t)=>e.price-t.price))}catch(e){console.error(e),r({title:"Error",description:"Failed to fetch rates"})}},[t,r]);async function b(){r({title:"Processing",description:"Please wait while adding the rate"});try{await a.A.post("/api/admin/rates",{name:j,price:m,time:g}),r({title:"Success",description:"Rate added successfully"}),w()}catch(e){console.error(e),r({title:"Error",description:"Failed to add rate"})}}async function y(e){r({title:"Processing",description:"Please wait while updating the rate"});try{await a.A.put("/api/admin/rates",{id:e,name:j,price:m,time:g}),r({title:"Success",description:"Rate updated successfully"}),w()}catch(e){console.error(e),r({title:"Error",description:"Failed to update rate"})}}async function N(e){r({title:"Processing",description:"Please wait while deleting the rate"});try{await a.A.delete("/api/admin/rates?id=".concat(e)),r({title:"Success",description:"Rate deleted successfully"}),w()}catch(e){console.error(e),r({title:"Error",description:"Failed to delete rate"})}}return(0,d.useEffect)(()=>{w()},[w]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("h1",{className:"text-lg font-bold ml-[7px]",children:"Rates"}),(0,s.jsxs)(o.lG,{children:[(0,s.jsx)(o.zM,{asChild:!0,children:(0,s.jsxs)(i.$,{variant:"outline",className:"ml-[7px]",children:[(0,s.jsx)(c.A,{})," New Rate"]})}),(0,s.jsxs)(o.Cf,{children:[(0,s.jsxs)(o.c7,{children:[(0,s.jsx)(o.L3,{children:"New Rate"}),(0,s.jsx)(o.rr,{children:"Please check the details before submitting."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(h.J,{children:"Name"}),(0,s.jsx)(u.p,{onChange:e=>p(e.target.value),value:j,type:"text",placeholder:"E.g 2 Hours"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(h.J,{children:"Price"}),(0,s.jsx)(u.p,{onChange:e=>f(e.target.value),value:m,type:"number",placeholder:"E.g 10"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(h.J,{children:"Time"}),(0,s.jsx)(u.p,{onChange:e=>v(e.target.value),value:g,type:"number",placeholder:"In minutes. e.g 30"})]})]}),(0,s.jsx)(o.Es,{children:(0,s.jsx)(o.HM,{asChild:!0,children:(0,s.jsx)(i.$,{onClick:b,disabled:""==j||""==g||""==m,children:"Submit"})})})]})]})]}),(0,s.jsxs)(l.XI,{className:"w-full",children:[(0,s.jsx)(l.r6,{children:"A list of rates."}),(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nd,{className:"w-[100px]",children:"ID"}),(0,s.jsx)(l.nd,{children:"Name"}),(0,s.jsx)(l.nd,{children:"Time"}),(0,s.jsx)(l.nd,{className:"text-right",children:"Price"}),(0,s.jsx)(l.nd,{})]})}),(0,s.jsx)(l.BF,{children:e.map(e=>(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nA,{children:e.id}),(0,s.jsx)(l.nA,{className:"whitespace-nowrap",children:e.name}),(0,s.jsx)(l.nA,{className:"whitespace-nowrap",children:e.time}),(0,s.jsx)(l.nA,{className:"text-right",children:e.price.toLocaleString("en-PH",{style:"currency",currency:"PHP"})}),(0,s.jsxs)(l.nA,{className:"flex justify-end gap-3",children:[(0,s.jsxs)(x.Lt,{children:[(0,s.jsx)(x.tv,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",children:"Delete"})}),(0,s.jsxs)(x.EO,{children:[(0,s.jsxs)(x.wd,{children:[(0,s.jsx)(x.r7,{children:"Are you absolutely sure?"}),(0,s.jsx)(x.$v,{children:"This action cannot be undone. This will permanently delete the rate."})]}),(0,s.jsxs)(x.ck,{children:[(0,s.jsx)(x.Zr,{children:"Cancel"}),(0,s.jsx)(x.Rx,{onClick:()=>N(e.id.toString()),children:"Continue"})]})]})]}),(0,s.jsxs)(o.lG,{onOpenChange:()=>{p(e.name),f(e.price.toString()),v(e.time.toString())},children:[(0,s.jsx)(o.zM,{asChild:!0,children:(0,s.jsx)(i.$,{children:"Edit"})}),(0,s.jsxs)(o.Cf,{children:[(0,s.jsxs)(o.c7,{children:[(0,s.jsx)(o.L3,{children:"Modify Rate"}),(0,s.jsx)(o.rr,{children:"Please check the details before submitting."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(h.J,{children:"Name"}),(0,s.jsx)(u.p,{onChange:e=>p(e.target.value),value:j,type:"text",placeholder:"E.g 2 Hours"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(h.J,{children:"Price"}),(0,s.jsx)(u.p,{onChange:e=>f(e.target.value),value:m,type:"number",placeholder:"E.g 10"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(h.J,{children:"Time"}),(0,s.jsx)(u.p,{onChange:e=>v(e.target.value),value:g,type:"number",placeholder:"In minutes. e.g 30"})]})]}),(0,s.jsx)(o.Es,{children:(0,s.jsx)(o.HM,{asChild:!0,children:(0,s.jsx)(i.$,{onClick:()=>y(e.id),disabled:""==j||""==g||""==m,children:"Submit"})})})]})]})]})]},e.id))})]})]})})}},2336:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155),i=r(2115),l=r(9602);let n=i.forwardRef((e,t)=>{let{className:r,type:i,...n}=e;return(0,s.jsx)("input",{type:i,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},6195:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var s=r(2115),i=r(3360),l=r(5155),n=s.forwardRef((e,t)=>(0,l.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var a=n},4057:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:h,...u}=e;return(0,s.createElement)("svg",{ref:t,...n,width:i,height:i,stroke:r,strokeWidth:c?24*Number(a)/Number(i):a,className:l("lucide",d),...u},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:c,...d}=r;return(0,s.createElement)(a,{ref:n,iconNode:t,className:l("lucide-".concat(i(e)),c),...d})});return r.displayName="".concat(e),r}},689:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4057).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[1181,2651,7169,6217,5828,8441,1517,7358],()=>t(8424)),_N_E=e.O()}]);