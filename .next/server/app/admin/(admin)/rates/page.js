(()=>{var e={};e.id=63,e.ids=[63],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},96116:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=r(70260),i=r(28203),n=r(25155),a=r.n(n),l=r(67292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["admin",{children:["(admin)",{children:["rates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74885)),"/root/wifi-vendo/app/admin/(admin)/rates/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,23042)),"/root/wifi-vendo/app/admin/(admin)/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"/root/wifi-vendo/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/root/wifi-vendo/app/admin/(admin)/rates/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/(admin)/rates/page",pathname:"/admin/rates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8832:(e,t,r)=>{Promise.resolve().then(r.bind(r,74885))},21856:(e,t,r)=>{Promise.resolve().then(r.bind(r,70993))},70993:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(45512),i=r(87021),n=r(13393),a=r(70801),l=r(85668),d=r(46335),o=r(58009),c=r(71965),u=r(47699),p=r(25409),h=r(10203);function x(){let[e,t]=(0,o.useState)([]),{toast:r}=(0,a.dj)(),[x,m]=(0,o.useState)(""),[j,v]=(0,o.useState)(""),[f,g]=(0,o.useState)(""),b=(0,o.useCallback)(async()=>{try{let e=await l.A.get("/api/admin/rates");t(e.data.sort((e,t)=>e.price-t.price))}catch(e){console.error(e),r({title:"Error",description:"Failed to fetch rates"})}},[t,r]);async function w(){r({title:"Processing",description:"Please wait while adding the rate"});try{await l.A.post("/api/admin/rates",{name:x,price:j,time:f}),r({title:"Success",description:"Rate added successfully"}),b()}catch(e){console.error(e),r({title:"Error",description:"Failed to add rate"})}}async function y(e){r({title:"Processing",description:"Please wait while updating the rate"});try{await l.A.put("/api/admin/rates",{id:e,name:x,price:j,time:f}),r({title:"Success",description:"Rate updated successfully"}),b()}catch(e){console.error(e),r({title:"Error",description:"Failed to update rate"})}}async function P(e){r({title:"Processing",description:"Please wait while deleting the rate"});try{await l.A.delete(`/api/admin/rates?id=${e}`),r({title:"Success",description:"Rate deleted successfully"}),b()}catch(e){console.error(e),r({title:"Error",description:"Failed to delete rate"})}}return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("h1",{className:"text-lg font-bold ml-[7px]",children:"Rates"}),(0,s.jsxs)(c.lG,{children:[(0,s.jsx)(c.zM,{asChild:!0,children:(0,s.jsxs)(i.$,{variant:"outline",className:"ml-[7px]",children:[(0,s.jsx)(d.A,{})," New Rate"]})}),(0,s.jsxs)(c.Cf,{children:[(0,s.jsxs)(c.c7,{children:[(0,s.jsx)(c.L3,{children:"New Rate"}),(0,s.jsx)(c.rr,{children:"Please check the details before submitting."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{children:"Name"}),(0,s.jsx)(p.p,{onChange:e=>m(e.target.value),value:x,type:"text",placeholder:"E.g 2 Hours"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{children:"Price"}),(0,s.jsx)(p.p,{onChange:e=>v(e.target.value),value:j,type:"number",placeholder:"E.g 10"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{children:"Time"}),(0,s.jsx)(p.p,{onChange:e=>g(e.target.value),value:f,type:"number",placeholder:"In minutes. e.g 30"})]})]}),(0,s.jsx)(c.Es,{children:(0,s.jsx)(c.HM,{asChild:!0,children:(0,s.jsx)(i.$,{onClick:w,disabled:""==x||""==f||""==j,children:"Submit"})})})]})]})]}),(0,s.jsxs)(n.XI,{className:"w-full",children:[(0,s.jsx)(n.r6,{children:"A list of rates."}),(0,s.jsx)(n.A0,{children:(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nd,{className:"w-[100px]",children:"ID"}),(0,s.jsx)(n.nd,{children:"Name"}),(0,s.jsx)(n.nd,{children:"Time"}),(0,s.jsx)(n.nd,{className:"text-right",children:"Price"}),(0,s.jsx)(n.nd,{})]})}),(0,s.jsx)(n.BF,{children:e.map(e=>(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nA,{children:e.id}),(0,s.jsx)(n.nA,{className:"whitespace-nowrap",children:e.name}),(0,s.jsx)(n.nA,{className:"whitespace-nowrap",children:e.time}),(0,s.jsx)(n.nA,{className:"text-right",children:e.price.toLocaleString("en-PH",{style:"currency",currency:"PHP"})}),(0,s.jsxs)(n.nA,{className:"flex justify-end gap-3",children:[(0,s.jsxs)(h.Lt,{children:[(0,s.jsx)(h.tv,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",children:"Delete"})}),(0,s.jsxs)(h.EO,{children:[(0,s.jsxs)(h.wd,{children:[(0,s.jsx)(h.r7,{children:"Are you absolutely sure?"}),(0,s.jsx)(h.$v,{children:"This action cannot be undone. This will permanently delete the rate."})]}),(0,s.jsxs)(h.ck,{children:[(0,s.jsx)(h.Zr,{children:"Cancel"}),(0,s.jsx)(h.Rx,{onClick:()=>P(e.id.toString()),children:"Continue"})]})]})]}),(0,s.jsxs)(c.lG,{onOpenChange:()=>{m(e.name),v(e.price.toString()),g(e.time.toString())},children:[(0,s.jsx)(c.zM,{asChild:!0,children:(0,s.jsx)(i.$,{children:"Edit"})}),(0,s.jsxs)(c.Cf,{children:[(0,s.jsxs)(c.c7,{children:[(0,s.jsx)(c.L3,{children:"Modify Rate"}),(0,s.jsx)(c.rr,{children:"Please check the details before submitting."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{children:"Name"}),(0,s.jsx)(p.p,{onChange:e=>m(e.target.value),value:x,type:"text",placeholder:"E.g 2 Hours"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{children:"Price"}),(0,s.jsx)(p.p,{onChange:e=>v(e.target.value),value:j,type:"number",placeholder:"E.g 10"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{children:"Time"}),(0,s.jsx)(p.p,{onChange:e=>g(e.target.value),value:f,type:"number",placeholder:"In minutes. e.g 30"})]})]}),(0,s.jsx)(c.Es,{children:(0,s.jsx)(c.HM,{asChild:!0,children:(0,s.jsx)(i.$,{onClick:()=>y(e.id),disabled:""==x||""==f||""==j,children:"Submit"})})})]})]})]})]},e.id))})]})]})})}},74885:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/root/wifi-vendo/app/admin/(admin)/rates/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/root/wifi-vendo/app/admin/(admin)/rates/page.tsx","default")},92405:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var s=r(58009),i=r(30830),n=r(45512),a=s.forwardRef((e,t)=>(0,n.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var l=a}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[994,432,154,886,547,316,577,159],()=>r(96116));module.exports=s})();